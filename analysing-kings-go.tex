\documentclass{beamer}

\usepackage{minted}
\usepackage{fontspec}
\usepackage{poker}

\title{Analysing Kings with Go}
\author[@jshholland]{Josh Holland \\ @jshholland}
\date[OggCamp 2014]{OggCamp 2014 \\ Oxford}

\newminted{go}{linenos}

\usetheme{Boadilla}
\usecolortheme{seahorse}
\usefonttheme{professionalfonts}

\setsansfont[StylisticSet=2]{Concourse T3}
\setmonofont{Source Code Pro}

\setbeamerfont{title}{series=\bfseries,size=\LARGE}
\setbeamerfont{frametitle}{series=\bfseries}

\setkeys{poker}{cpr=4}

\begin{document}

\frame{\titlepage}

\frame{\tableofcontents}

\section{The game of Kings}

\begin{frame}{The rules of Kings}
\begin{itemize}
  \item 52-card deck
  \item Aces low
  \item 4 main piles and 1 discard pile
  \item Higher cards beat lower ones of the same suit
  \item Kings can move to empty piles
  \pause
  \item \alert{Be left with just the 4 kings}
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{A sample game}

\only<1>{
\begin{cards}
\crdfives \crdfived \crdJc \crdAh
\end{cards}
}

\only<2>{
\begin{cards}
\crdtred \crdeigc \crdKh \crdtwoh
\end{cards}
}

\only<3>{
\begin{cards}
\crdtred \crdeigc \crdKh \crdAh
\end{cards}
}

\only<4>{
\begin{cards}
\crdtred \crdeigc \crdKh \crdback
\end{cards}
}

\only<5>{
\begin{cards}
\crdtred \crdeigc \crdJc \crdKh
\end{cards}
}

\only<6>{
\begin{cards}
\crdtred \crdfived \crdJc \crdKh
\end{cards}
}

\only<7>{
\begin{cards}
\crdfives \crdfived \crdJc \crdKh
\end{cards}
}
\end{frame}

\section{A brief overview of Go}

\begin{frame}
\frametitle{History of the language}
\begin{itemize}
  \item Invented at Google by Robert Griesemer, Rob Pike and
    Ken Thompson
  \item Initial whiteboard ideas in 2007
  \item Open source release in 2009
  \item Go 1 released in 2012
  \item Latest is Go 1.3, released in June 2014
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Hello, world}
\begin{gocode}
package main

import "fmt"

func main() {
        fmt.Println("Hello, world!")
}
\end{gocode}
\end{frame}

\begin{frame}[fragile]
\frametitle{A more complex example of Go}
\begin{onlyenv}<1>
\begin{align*}
\frac{\pi}{4} &= \sum_{k=0}^{\infty} \frac{(-1)^k}{2k + 1}
\end{align*}
\end{onlyenv}
\begin{onlyenv}<2>
\begin{gocode}
func pi(n int) float64 {
        ch := make(chan float64)
        for k := 0; k <= n; k++ {
                go term(ch, float64(k))
        }
        f := 0.0
        for k := 0; k <= n; k++ {
                f += <-ch
        }
        return f
}

func term(ch chan float64, k float64) {
        ch <- 4 * math.Pow(-1, k) / (2*k + 1)
}
\end{gocode}
\end{onlyenv}
\end{frame}


\section{Putting it all together}

\begin{frame}[fragile]
\frametitle{The end goal}
\begin{minted}{shell-session}
josh@sirius:~$ kings -h
Usage of kings:
  -threads=1: Number of threads to use
josh@sirius:~$ kings
# ...snip...
No possible moves found

Failure :(
\end{minted}
\end{frame}

\end{document}
